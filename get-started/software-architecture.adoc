---
sidebar: sidebar 
permalink: get-started/software-architecture.html 
keywords: afx, afx system, cluster, architecture, components, physical, logical 
summary: AFX アーキテクチャは、複数のハードウェア コンポーネントとソフトウェア コンポーネントで構成されています。これらのシステム コンポーネントは、さまざまなカテゴリに分類されます。 
---
= AFXストレージシステムアーキテクチャの詳細
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
AFX アーキテクチャは、複数のハードウェア コンポーネントとソフトウェア コンポーネントで構成されています。これらのシステム コンポーネントは、さまざまなカテゴリに分類されます。



== 物理コンポーネント

AFX を初めて使用する場合、データ センターにインストールされている物理コンポーネントの概要から始めると役立ちます。



=== コントローラーノード

AFX コントローラ ノードは、AFX 環境の要件をサポートするように設計されたONTAPソフトウェアの特殊な機能を実行します。クライアントは、NFS、SMB、S3 などの複数のプロトコルを通じてノードにアクセスします。各ノードはストレージの完全なビューを持ち、クライアントの要求に基づいてアクセスできます。ノードは、重要な状態情報を保持するための不揮発性メモリを備えたステートフルであり、ターゲット ワークロードに固有の追加の拡張機能も備えています。



=== ストレージシェルフとディスク

AFX ストレージ シェルフは、高密度 SSD を接続するために Non-volatile Memory Express over Fabrics (NVMe-oF) を使用します。ディスクは、RDMA over Converged Ethernet (RoCE) を使用して、超低遅延ファブリックを介して通信します。 I/O モジュール、NIC、ファン、電源装置を含むストレージ シェルフは、単一障害点のない完全な冗長性を備えています。自己管理型テクノロジーは、RAID 構成とディスク レイアウトのあらゆる側面を管理および制御するために使用されます。



=== クラスタストレージスイッチネットワーク

冗長化された高性能スイッチが AFX コントローラー ノードをストレージ シェルフに接続します。パフォーマンスを最適化するために高度なプロトコルが使用されます。この設計は、複数のネットワーク パスを使用した VLAN タグ付けと技術更新構成に基づいており、継続的な運用とアップグレードの容易さを保証します。



=== クライアントトレーニング環境

クライアント トレーニング環境は、GPU クラスターや AI ワークステーションなど、顧客が提供するハードウェアを備えたラボ環境です。通常、モデルのトレーニング、推論、その他の AI/ML 関連の作業をサポートするように設計されています。クライアントは、NFS、SMB、S3 などの業界標準プロトコルを使用して AFX にアクセスします。



=== クライアントネットワーク

この内部ネットワークは、クライアントのトレーニング環境を AFX ストレージ クラスターに接続します。ネットワークは顧客によって提供および管理されますが、 NetApp は要件と設計に関する現場の推奨事項を提供する予定です。



== 論理コンポーネント

AFX にはいくつかの論理コンポーネントが含まれています。これらは、クラスターの物理コンポーネントとともにソフトウェアで実装されます。論理コンポーネントは、AFX システムの使用と構成を決定する構造を強制します。



=== 共通ストレージプール

ストレージ可用性ゾーン (SAZ) は、クラスター全体のストレージの共通プールです。これは、すべてのコントローラー ノードに単一の統合された名前空間を提供する、ストレージ シェルフ内のディスクのコレクションです。 SAZ は、ノードがどのストレージ シェルフを使用するかに関して固定の制限がないプロビジョニング モデルを提供します。顧客は、AFX クラスター全体のプロパティとして、空き容量とストレージ使用量を表示できます。



=== FlexVolume、FlexGroup、バケット

FlexVolume、FlexGroup、および S3 バケットは、クライアント アクセス プロトコルに基づいて AFX 管理者に公開される _データ コンテナー_ です。これらのスケーラブルなコンテナーは、多くの複雑な内部ストレージの詳細を抽象化するように設計されています。



=== データのレイアウトとアクセス

データ レイアウトとアクセスは、GPU へのシームレスなアクセスと効率的な利用のために調整されています。これは、ボトルネックを解消し、一貫したパフォーマンスを維持する上で重要な役割を果たします。



=== SVMとマルチテナンシー

AFX は、 AFFおよびFASシステムで利用可能な SVM モデルに基づいて構築されたテナント モデルを提供します。  AFX テナント モデルは、管理を簡素化するために合理化されました。



== AFX クラスターの展開

次の図は、一般的な AFX クラスターの展開を示しています。コントローラー ノードはストレージ シェルフから分離され、共有ネットワークを介して接続されます。

image:afx-cluster.png["AFX クラスターアーキテクチャ"]
